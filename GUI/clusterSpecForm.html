<!DOCTYPE html>
<html>

	<head>
		<link href="/static/css/bootstrap.css"  rel="stylesheet" type="text/css"/>
		<link   href="/static/css/styles.css" rel="stylesheet" type="text/css"/>
		<link   href="/static/css/newStyles.css" rel="stylesheet" type="text/css"/>
		<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.1.3/css/bootstrap-datetimepicker.min.css'>
		<link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css'>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

	</head>

	<body onload="showKeywordGroups('{{keywordGroups}}')">
	<div class="se-pre-con"></div>
	    <nav class="navbar navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">Food Sentiment Observatory</a>
        </div>
        <ul class="nav navbar-nav">
          <li><a href="/index">Home</a></li>
          <li><a href="/manual">Manual</a></li>
          <li> <a href="/collectionsPage">Collections</a></li>
          <li><a href="/topicVisualisationHomePage">Topic Visualisation</a></li>
        </ul>
      </div>
    </nav> 

    <div class="container" id="mainContainer">
    
    <div class="col-sm-12" id="whitie">
    			<input type="hidden" name="check" id="check" value=""/>
				<div class="headers col-sm-12">
			        <div class="col-sm-6" id="eitherOrHeader"> <h3>Keywords for clusters</h3></div>
							
			    	<div id="timeframeHeader" class="col-sm-6"> <h3>Keywords for cluster segments</h3> </div>
			    </div>
			    
			    	<div class="col-sm-12">
					<div id="clusters" class="col-sm-6">
							<div id="errorClusterArea"></div>
						    <div class="funkyradio col-sm-12">
						        <div class="funkyradio-success">
						        	<div class="col-sm-10">
						        		<input type="radio" name="clusterOption" id="clusterFromSearch" onclick="hideOtherContent('searchWords'); setKeywordsToCluster('{{keywords[0]}}')" />
						            	<label for="clusterFromSearch">Use the search keywords</label>
						        	</div>
						        	<div class="col-sm-2 showButton">
						        	<button type="button" class="btn btn-warning btn-xs" onclick="toggleKeywordContent('searchKeywords');">Show keywords</button>
						        	</div>
						            
						            <div id="searchKeywords" class="col-sm-10" style="display: none;"><p>{{keywords[0]}}</p></div>
						        </div>
						        <div class="funkyradio-success" id="keywordGroups">
							        <div class="col-sm-10">
							            <input type="radio" name="clusterOption" id="clusterFromKGroups" onclick="hideOtherContent('keywordGroups'); setKeywordsToCluster('{{keywordGroups}}'')"/>
							            <label for="clusterFromKGroups">Use the keyword groups</label>
							        </div>  
							        <div class="col-sm-2 showButton">
						        	<button type="button" class="btn btn-warning btn-xs" onclick="toggleKeywordContent('showkeywordGroup');">Show keywords</button>
						        	</div>
							        <div class="col-sm-10" id="showkeywordGroup" style="display: none;"></div>  
						        </div>
						        <div class="funkyradio-success">
						        	<div class="col-sm-10">
						            	<input type="radio" name="clusterOption" id="clusterFromOwnWords" onclick="showAddKeywordButton('addOwnWordsClusters', 'Add keywords','groupCluster'); hideOtherContent('ownWords')" />
						            	<label for="clusterFromOwnWords">Define keywords manually</label>
						            </div>
						            <div class="col-sm-12" id="addOwnWordsClusters"></div>

						        </div>
						    </div>    
					</div>

					<div id="segments" class="col-sm-6">
						<div id="errorSegmentArea"></div>
						<div class="funkyradio col-sm-12">
						        <div class="funkyradio-success">
						        	<div class="col-sm-10">
						        		<input type="radio" name="segmentOption" id="segmentFromSearch" onclick="setKeywordsForSegment('{{keywords[0]}}')" />
						            	<label for="segmentFromSearch">Use the search keywords</label>
						        	</div>
						        </div>
						        <div class="funkyradio-success" id="keywordGroups">
							        <div class="col-sm-12">
							            <input type="radio" name="segmentOption" id="segmentFromKGroups" onclick="setKeywordsForSegment('{{keywordGroups}}'')"/>
							            <label for="segmentFromKGroups">Use the keyword groups</label>
							        </div>  
						        </div>
						        <div class="funkyradio-success">
						        	<div class="col-sm-10">
						            	<input type="radio" name="segmentOption" id="segmentFromOwnWords" onclick="showAddKeywordButton('addOwnWordsSegments','Add keywords', 'groupSegment');" />
						            	<label for="segmentFromOwnWords">Define keywords manually</label>
						            </div>
						            <div class="col-sm-10" id="addOwnWordsSegments"></div>
						        </div>
						    </div>
					</div>
				</div>	
			<form name="clusterForm" role="form" action="/createClusters" onsubmit="return validateClusterForm();">	
				<input type="hidden" name="keywordsToCluster" id="keywordsToCluster" value="" />
				<input type="hidden" name="keywordsForSegments" id="keywordsForSegments" value="" />
				<input type="hidden" name="enrichKeywords" id="enrichKeywords" value="" />
				<div class="bottom col-sm-12"><button type='submit' class='btn btn-success' id="floatyButton">Cluster</button></div>				
			</form>	
			<input type="hidden" name="keywordInputName" id="keywordInputName" value=""/>
	</div>
	<div id="kGroupModal" class="modal fade" role="dialog">
			<div class="modal-dialog">

			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal">&times;</button>
			        <h4 class="modal-title">Add keywords</h4>
			      </div>
			      <div class="modal-body">
			        <p>Add a keyword and press the <span class="glyphicon glyphicon-plus"></span> sign to create a new field or press enter to save keyword group.</p>
			        <form method="post" name="kgroupForm" id="kgroupForm_id">
				        <div class="keywordGroup col-sm-8"> 
				        		<div class="col-xs-12" id="errorMessageArea"></div>
			                    <div class="entry input-group col-xs-12 ui-widget unstyled">		                    	
				                        <input class="form-control tags" name="kgroups" type="text" value="" placeholder="Type something" />
				                    	<span class="input-group-btn">
				                            <button class="btn btn-success btn-addSelection" type="button">
				                                <span class="glyphicon glyphicon-plus"></span>
				                            </button>
				                        </span> 
			                    </div>
			            </div>
			            <button type="submit" class="btn btn-success" data-dismiss="modal" onclick="saveAndDisplayKeywords()">Add group</button>
		            </form>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>      
			      </div>
			    </div>
			</div>
			</div>	
	</div>
		<script src='/static/js/bootstrap.min.js'></script>
		<script src='http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js'></script>
		<script src='http://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.1.3/js/bootstrap-datetimepicker.min.js'></script>
		<script src = "/static/js/scripts.js"></script>	
	</body>
</html>			