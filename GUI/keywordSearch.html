<!DOCTYPE html>
<html>

	<head>
		{% include "parts/headContent.html" %}
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		<title>FoObs search form</title>
	</head>

	<body onload="getKeywords(); getDBName(); ">
		{% include "parts/menu.html" %}  

		<div class="container" >
			<div id="mainContainer">
			<div class="col-sm-8">
			<h2>Define search parameters</h2>
			</div>

			<div class="row">
		        <div class="control-group col-sm-12" id="field">
		        <input type="hidden" name="keywordInputName" id="keywordInputName" value="">
		            <form role="form" name = "keywordGroupForm" autocomplete="off" action = "{{task}}" onsubmit="return checkForGroups()">
		            	<input type="hidden" name="dbName" id="dbName" value="">
			            <input type="hidden" name = "checkName" id="check" value="">
			            <div class="headers col-sm-12">
			            	<div class="form-group col-sm-6" id="eitherOrHeader">
					    		<label for="checkIfKeywords" class="col-sm-12 col-md-12 control-label text-left">Would you like to specify any keyword groups?</label>
					    		<div class="col-sm-12 col-md-12">
					    			<div class="input-group">
					    				<div id="radioBtn" class="btn-group">
					    					<a class="btn btn-success btn-sm notActive" data-toggle="checkIfKeywords" data-title="Y">YES</a>
					    					<a class="btn btn-success btn-sm active" data-toggle="checkIfKeywords" data-title="N">NO</a>
					    				</div>
					    				<input type="hidden" name="checkIfKeywords" id="checkIfKeywords">
					    			</div>
					    		</div>
					    	</div>
							
			            	<div id="timeframeHeader" class="col-sm-6"> <h3>Select a timeframe</h3> </div>
			            </div>
			            <div class="eitherOr col-sm-6" id="eitherOrContent">
			            	<input type='hidden' name='group' value='no groups'/>
			            </div>
			             <div class='col-sm-6'>
			             	
				            <div class="form-group">

				                <div class='input-group date input-daterange' id='datetimepicker'>
				                    <input type='text' class="input-sm form-control" name="fromDate" id="fromDate" value="{{startDate}}"/>
				                    <div class="input-group-addon">to</div>
    								<input type="text" class="input-sm form-control" name="toDate" id="toDate" value="{{endDate}}">
				                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
				                    </span>
				                </div>
				            </div>
				        </div>	
						<div class="col-sm-6" id="submitionButton">
			            	<button type='submit' class='btn btn-default' id="floatyButton">Search</button>
			            </div>	                    
		            </form>
 
		        </div>
			</div>    
		</div>

	<!-- Modal -->
		<div id="kGroupModal" class="modal fade" role="dialog">
			<div class="modal-dialog">

			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal">&times;</button>
			        <h4 class="modal-title">Add keywords</h4>
			      </div>
			      <div class="modal-body">
			        <p>Add a keyword and press the <span class="glyphicon glyphicon-plus"></span> sign to create a new field or press enter to save keyword group.</p>
			        <form method="post" name="kgroupForm" id="kgroupForm_id">
				        <div class="keywordGroup col-sm-8"> 
				        		<div class="col-xs-12" id="errorMessageArea"></div>
			                    <div class="entry input-group col-xs-12 ui-widget unstyled">		                    	
				                        <input class="form-control tags" name="kgroups" type="text" value="" placeholder="Type something" />
				                    	<span class="input-group-btn">
				                            <button class="btn btn-success btn-addSelection" type="button">
				                                <span class="glyphicon glyphicon-plus"></span>
				                            </button>
				                        </span> 
			                    </div>
			            </div>
			            <button type="submit" class="btn btn-success" data-dismiss="modal" onclick="postKeywords()">Add group</button>
		            </form>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>      
			      </div>
			    </div>
			</div>
			</div>
		</div>
			<footer class="footer" id="footerId">
      <div class="container"> 
        
      </div>
    </footer>
		
		<script src='/static/js/bootstrap.min.js'></script>
		<script src='http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js'></script>
		<script src='http://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.1.3/js/bootstrap-datetimepicker.min.js'></script>
		<script src = "/static/js/scripts.js"></script>


	</body>
</html> 